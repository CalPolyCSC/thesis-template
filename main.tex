\documentclass[12pt]{cpthesis}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Math packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}     % for lots math extensions
\usepackage{mathtools}   % for DeclareMathOperator
\usepackage{bm}          % for bold math symbols
\usepackage{letltxmacro} % used for alternate sqrt
\usepackage{nicefrac}    % for nicer looking inline fractions

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Figures and tables packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% figure related packages
\usepackage{caption}
\usepackage{subcaption}

\captionsetup{
    format=hang,
    font=it,
    labelfont=bf,
%    textformat=period,
    labelsep=colon
}
\captionsetup[table]{position=above}
\captionsetup[subfigure]{labelformat=parens,font=normalsize}
\captionsetup[subtable]{labelformat=parens,font=normalsize,position=top}

% Ensures table floats have caption above table.
% from https://tex.stackexchange.com/a/43097
% Note: Still have to manually do this for non-floating tables.
\usepackage{floatrow}
\floatsetup[table]{capposition=top}

%% table related packages
\usepackage{tabularx}

%% figure related packages
\usepackage{graphicx}

% Add figures folder to the graphics path
\graphicspath{{figures/}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Bibliography packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliographystyle{abbrv}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Additional packages needed for specific thesis
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{frontmatter/preamble}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% hyperlinks and URL handling
%% Note: must be one of the last packages added
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[hyphens]{url}
\usepackage[breaklinks=true,hidelinks,pdfusetitle]{hyperref}
% Options for hyperref
\hypersetup{
    bookmarksnumbered=true,
    bookmarksopen=false,
    bookmarksopenlevel=0,
    colorlinks=false,
    pdfstartview=Fit,
    pdfborder={0 0 0},
}
% remove \uppercase from references to chapters
% see: https://tex.stackexchange.com/a/417078
\pdfstringdefDisableCommands{\let\uppercase\@firstofone}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Automatic determination of kind of reference
%% Note: must be included after hyperref
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{cleveref}
% Define Appendix refs
\crefname{app}{appendix}{appendices}
\Crefname{app}{Appendix}{Appendices}
% oxford comma
\newcommand{\creflastconjunction}{, and~}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% End of document preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Setting for the front matter
\input{frontmatter}

\begin{document}
    \begin{frontmatter}
        \maketitle

        % Custom made for Cal Poly (by Mark Barry, modified by Andrew Tsui).
        \copyrightpage

        % Custom made for Cal Poly (by Andrew Tsui).
        \committeemembershippage

        % Abstract page
        \begin{abstract}
            \input{frontmatter/abstract}
        \end{abstract}

        % Acknowledgments page
        % Note: environment is included in the tex-file so can change
        % page title if needed.
        \input{frontmatter/acknowledgments}

        \begin{dedication}
            \input{dedication}
        \end{dedication}

        \tableofcontents

        \listoftables

        \listoffigures
    \end{frontmatter}

    %% Input the chapters as configured from the file
    \input{chapter-outline}

    %% Difference between Biblography and References
    % A bibliography is a collection of resources that you found of value
    % related to your thesis. It includes all items that you cited in your
    % thesis as well as any other valuable references.
    %
    % On the other hand, a references section is just the items that you cited
    % in your thesis.
    %
    % For a references section use the following lines:


    % For a bibliography, put all references you want in your bibliography
    % into your bib-file, then use the following lines:
    \nocite{*}
    \bibliography{bibliography}

    %% Input the appendices (if any) as configured from the file
    % If not needed, then this line can be removed.
    \input{appendix-outline}
\end{document}
